datree : validation
sonarqube quality analysis(see bugs)
sonarqube quality gate
sonartype nexus repository
helm chart
docker image (container)
apache maven (build automation tool)
github(SCM)



deployment:
kubernetes
argocd


flowchat: developer --->> github .>>>jenkins>>maven>>sonarqube>>>docker>>sonartype nexus>>>helm>>>daatree>> kubernetes(argocd)


create a new branch and do sonarqube analysis
static code analysis
quality gate check
if check is failed , we send email 
if not, we continue
start writing pipeline multistage
write multistage docker file  and build an image
(we dont need to install maven)
store differnt images in nexus instead of dockerhub as a private repository
configure datree with jenkins
then check if there is any misconfiguration or syntax error using datree and helm chart
if check is failed , we send email 
if not, we continue
push the helm chart to nexus
manual approval


then cd private
deploying to kubernetes

.
we need 5 server
jenkins
sonarqube
master  (kubeadm)
node
nexus

after all setups
use vi /opt/nexus/bin/nexus.rc
uncomment the file and add nexus then save
launch with sudo -u nexus /opt/nexus/bin/nexus start



first we do static code analysis
write the first stage to check this 
install quality gate and sonarqube on jenkins and configure it at manage jenkins -configure systems.
search for sonar and fill the name, url and auth of the sonar, choose secret text and get it from sonarqube
admin>>user>>token
this will make sonarqube to authenticate with jenkins

the second one will send logs to jenkins

that is by crating a webhook

we are going to authenticate
create a new job on jenkins.
use SCM
put the repository and branch and save
create syntax for sonarqube with your token and copy to the jenkinsfile in your code.
